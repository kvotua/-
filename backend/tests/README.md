## Как это читать

- В заголовке указывается путь запроса и его метод
- Дальше перечислены все передаваемые значения при запросе
- У каждого передаваемого значения перечислены возможные состояния
- В конце указан список всех возможных комбинаций состояний
    - (1, 3) - указывает, что из первого параметра берется первое состояние, а из второго - третье
    - число указывает возвращаемый код
    - текст уточняет дополнительыне проверки

# Users

## POST

### POST /users

id:
1. Пользователя с таким id не существует
2. Пользователь с таким id уже существует

- (1) - 201 - пользователь действительно создался
- (2) - 409

## GET

### GET /users/{user_id}

user-init-data:
1. пользователь существует
2. пользователь не существует
3. неправильный формат

user_id:
1. пользователь существует и совпадает с id инициатора
2. пользователь существует и не совпадает с id инициатора
3. пользователь не существует

- (1, 1) - 200, возвращаемый id совпадает с запрашиваемым
- (1, 2) - 403
- (1, 3) - 404
- (2, 1) - 401
- (2, 2) - 401
- (2, 3) - 401
- (3, 1) - 401
- (3, 2) - 401
- (3, 3) - 401

# Projects

## POST

### POST /projects/by/user/{user_id}

user-init-data:
1. пользователь существует
2. пользователь не существует
3. неправильный формат

- (1) - 201 - проект действительно создался у пользователя, имя проекта совпадает
- (2) - 401
- (3) - 401

## GET

### GET /projects/{project_id}

user-init-data:
1. пользователь существует
2. пользователь не существует
3. неправильный формат

project_id:
1. существует и принадлежит инициатору
2. существует и не принадлежит инициатору
3. не существует

- (1, 1) - 200 - имя проекта совпадает с именем при создании, владелец проекта - создатель
- (1, 2) - 403
- (1, 3) - 404
- (2, 1) - 401
- (2, 2) - 401
- (2, 3) - 401
- (3, 1) - 401
- (3, 2) - 401
- (3, 3) - 401

### GET /projects/by/user/{user_id}

user-init-data:
1. пользователь существует
2. пользователь не существует
3. неправильный формат

user_id:
1. пользователь существует и совпадает с id инициатора
2. пользователь существует и не совпадает с id инициатора
3. пользователь не существует

- (1, 1) - 200 - проекты пользователя действительно отображают список его проектов
- (1, 2) - 403
- (1, 3) - 404
- (2, 1) - 401
- (2, 2) - 401
- (2, 3) - 401
- (3, 1) - 401
- (3, 2) - 401
- (3, 3) - 401

## PATCH

### PATCH /projects/{project_id}

user-init-data:
1. пользователь существует
2. пользователь не существует
3. неправильный формат

project_id:
1. существует и принадлежит инициатору
2. существует и не принадлежит инициатору
3. не существует

- (1, 1) - 200 - имя проекта действительно обновилось
- (1, 2) - 403
- (1, 3) - 404
- (2, 1) - 401
- (2, 2) - 401
- (2, 3) - 401
- (3, 1) - 401
- (3, 2) - 401
- (3, 3) - 401

## DELETE

### DELETE /projects/{project_id}

user-init-data:
1. пользователь существует
2. пользователь не существует
3. неправильный формат

project_id:
1. существует и принадлежит инициатору
2. существует и не принадлежит инициатору
3. не существует

- (1, 1) - 200 - проект действительно удалился
- (1, 2) - 403
- (1, 3) - 404
- (2, 1) - 401
- (2, 2) - 401
- (2, 3) - 401
- (3, 1) - 401
- (3, 2) - 401
- (3, 3) - 401

# Nodes

## POST

### POST /nodes

user-init-data:
1. пользователь существует
2. пользователь не существует
3. неправильный формат

parent_id:
1. существует и принадлежит инициатору
2. существует и не принадлежит инициатору
3. не существует

- (1, 1) - 200 - узел действительно создался
- (1, 2) - 403
- (1, 3) - 404
- (2, 1) - 401
- (2, 2) - 401
- (2, 3) - 401
- (3, 1) - 401
- (3, 2) - 401
- (3, 3) - 401

## GET

### GET /nodes/{node_id}

user-init-data:
1. пользователь существует
2. пользователь не существует
3. неправильный формат

node_id:
1. существует и принадлежит инициатору
2. существует и не принадлежит инициатору
3. не существует

- (1, 1) - 200 - узел действительно отображается
- (1, 2) - 403
- (1, 3) - 404
- (2, 1) - 401
- (2, 2) - 401
- (2, 3) - 401
- (3, 1) - 401
- (3, 2) - 401
- (3, 3) - 401

### GET /nodes/tree/{node_id}

user-init-data:
1. пользователь существует
2. пользователь не существует
3. неправильный формат

node_id:
1. существует и принадлежит инициатору
2. существует и не принадлежит инициатору
3. не существует

- (1, 1) - 200 - дерево действительно отображается
- (1, 2) - 403
- (1, 3) - 404
- (2, 1) - 401
- (2, 2) - 401
- (2, 3) - 401
- (3, 1) - 401
- (3, 2) - 401
- (3, 3) - 401

## PATCH

### PATCH /nodes/{node_id}

user-init-data:
1. пользователь существует
2. пользователь не существует
3. неправильный формат

node_id:
1. существует и принадлежит инициатору
    a. находится в том же проекте
    b. находится в другом проекте
2. существует и не принадлежит инициатору
    a. находится в том же проекте
    b. находится в другом проекте
3. не существует

parent_id:
1. существует и принадлежит инициатору
    a. находится в том же проекте
    b. находится в другом проекте
2. существует и не принадлежит инициатору
    a. находится в том же проекте
    b. находится в другом проекте
3. не существует

- (1, 1a, 1a) - 200 - родитель узла поменялся
- (1, 1a, 1b) - 400
- (1, 2a, 2a) - 403
- (1, 2a, 2b) - 403
- (1, 2b, 2b) - 403
- (1, 3, 3) - 404
- (2, 1a, 1a) - 401
- (2, 1a, 1b) - 401
- (2, 1b, 1b) - 401
- (2, 2a, 2a) - 401
- (2, 2a, 2b) - 401
- (2, 2b, 2b) - 401
- (2, 3, 3) - 401
- (3, 1a, 1a) - 401
- (3, 1a, 1b) - 401
- (3, 1b, 1b) - 401
- (3, 2a, 2a) - 401
- (3, 2a, 2b) - 401
- (3, 2b, 2b) - 401
- (3, 3, 3) - 401

## DELETE

### DELETE /nodes/{node_id}

user-init-data:
1. пользователь существует
2. пользователь не существует
3. неправильный формат

node_id:
1. существует и принадлежит инициатору
    a. является корневой
    b. не является корневой
2. существует и не принадлежит инициатору
    a. является корневой
    b. не является корневой
3. не существует

- (1, 1a) - 200 - узел удален
- (1, 1b) - 400
- (1, 2a) - 403
- (1, 2b) - 403
- (2, 1a) - 401
- (2, 1b) - 401
- (2, 2a) - 401
- (2, 2b) - 401
- (3, 1a) - 401
- (3, 1b) - 401
- (3, 2a) - 401
- (3, 2b) - 401
- (3, 3) - 401
